(this.webpackJsonpactunes=this.webpackJsonpactunes||[]).push([[0],{17:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(3),i=n(4),a=n.n(i),o=n(11),s=n.n(o),r=(n(17),n(2)),l=n(1),u=n(7),d=n(5);n(27);function f(e){var t=e.direction,n=e.disabled,i=void 0!==n&&n,a=e.onClick;return Object(c.jsx)("button",{className:Object(u.a)("Arrow",t),onClick:a,disabled:i,children:Object(c.jsx)("i",{className:Object(u.a)("fas","fa-angle-double-".concat(t))})})}n(28);var j={x:"x","-":"r",G3:"g",A3:"a",B3:"b",C4:"c",D4:"d",E4:"e",F4:"f",G4:"G",A4:"A",B4:"B",C5:"C",D5:"D",E5:"E"},b=function(e){var t=e.onUp,n=e.onDown,i=e.value,a=j[i];return Object(c.jsxs)("div",{className:Object(u.a)("Note",a),"data-name":i,children:[Object(c.jsx)(f,{onClick:function(){if("x"===i)t("-");else if("-"===i)t("G3");else if("E5"===i);else{var e=d.b(i);do{e=e.transpose(1)}while(-1!==e.toNote().indexOf("#"));t(e.toNote())}},direction:"up",disabled:"E5"===i}),Object(c.jsx)(f,{onClick:function(){if("G3"===i)n("-");else if("-"===i)n("x");else if("x"===i);else{var e=d.b(i);do{e=e.transpose(-1)}while(-1!==e.toNote().indexOf("#"));t(e.toNote())}},direction:"down",disabled:"x"===i})]})};n(29);function O(e){var t=e.melody,n=e.onChange,i=t.map((function(e,t){return Object(c.jsx)(b,{onDown:function(e){return n(t,e)},onUp:function(e){return n(t,e)},value:e,order:t},t)}));return Object(c.jsx)("div",{className:"Picker",children:Object(c.jsx)("div",{className:"Picker-inner",children:i})})}n(30),n(31);var h={x:"x","-":"r",G3:"g",A3:"a",B3:"b",C4:"c",D4:"d",E4:"e",F4:"f",G4:"G",A4:"A",B4:"B",C5:"C",D5:"D",E5:"E"},p=Object.keys(h).reduce((function(e,t){return e[h[t]]=t,e}),{});n(32);function x(e){return Object(c.jsx)("button",{onClick:e.onClick,disabled:e.disabled,className:"Button",children:e.children})}var m=function(){var e=Object(i.useState)(["x","-","G3","A3","B3","C4","D4","E4","x","G4","A4","B4","C5","D5","E5","E5"]),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(i.useState)(!1),s=Object(l.a)(o,2),f=s[0],j=s[1],b=function(){var e=Object(i.useState)(),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(!1),o=Object(l.a)(a,2),s=o[0],r=o[1];return Object(i.useEffect)((function(){d.d(),d.c.bpm.value=60,d.c.stop();var e=new d.a({envelope:{attack:.09,decay:.0795,release:.1,releaseCurve:"step"}}).toDestination();c(e)}),[]),{isPlaying:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return s})),play:function(e){d.d(),d.c.stop(),d.c.scheduleOnce((function(e){d.c.cancel(0),d.c.stop(),r(!1)}),"+0:0:32"),function(e){for(var t=[],n=0,c=0;c<e.length;c++)"x"===e[c]?n+=2:"-"===e[c]?(t.length>0&&(t[t.length-1].duration+=2),n+=2):(t.push({note:e[c],time:n,duration:2}),n+=2);return t}(e).map((function(e){return{note:e.note,duration:"0:0:".concat(.75*e.duration),time:"+0:0:".concat(e.time)}})).forEach((function(e){return d.c.scheduleOnce((function(t){n.triggerAttackRelease(e.note,e.duration)}),e.time)})),r(!0),d.c.start()},stop:function(){d.c.stop(),r(!1)}}}();return Object(i.useEffect)((function(){var e=new URLSearchParams(window.location.search);if(e.has("play")){var t=function(e){return 16===e.length?e.split("").map((function(e){return p[e]})):null}(e.get("play"));t&&a(t)}}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{className:"logo",children:"Animal Crossing Tunes Studio"}),Object(c.jsx)("section",{className:"social-media",children:Object(c.jsx)("a",{href:"https://twitter.com/actunesstudio",target:"_blank",rel:"noreferrer",children:Object(c.jsx)("i",{className:"fab fa-twitter"})})}),Object(c.jsx)("section",{className:"picker",children:Object(c.jsx)(O,{onChange:function(e,t){a([].concat(Object(r.a)(n.slice(0,e)),[t],Object(r.a)(n.slice(e+1))))},melody:n})}),Object(c.jsx)("section",{className:"player",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)(x,{onClick:function(){return b.play(n)},disabled:b.isPlaying(),children:[Object(c.jsx)("i",{className:"fas fa-play"}),"\xa0Play"]}),Object(c.jsxs)(x,{onClick:function(){return b.stop()},disabled:!b.isPlaying(),children:[Object(c.jsx)("i",{className:"fas fa-stop"}),"\xa0Stop"]}),Object(c.jsxs)(x,{onClick:function(){var e=n.map((function(e){return h[e]})).join("");navigator.clipboard.writeText("".concat(window.location.protocol,"//").concat(window.location.host,"/?play=").concat(e)).then((function(){return j(!0)}))},disabled:!1,children:[Object(c.jsx)("i",{className:"fas fa-share"}),"\xa0Share"]}),Object(c.jsxs)("div",{className:Object(u.a)({confirmation:!0,visible:f}),children:[Object(c.jsx)("i",{className:"fas fa-check"}),"\xa0 Link copied to clipboard!"]})]})})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),a(e),o(e)}))};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(m,{})}),document.getElementById("root")),v()}},[[33,1,2]]]);
//# sourceMappingURL=main.916426a7.chunk.js.map