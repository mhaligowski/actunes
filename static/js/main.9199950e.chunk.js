(this.webpackJsonpactunes=this.webpackJsonpactunes||[]).push([[0],{17:function(e,n,t){},27:function(e,n,t){},28:function(e,n,t){},29:function(e,n,t){},31:function(e,n,t){},32:function(e,n,t){},33:function(e,n,t){"use strict";t.r(n);var c=t(3),a=t(4),i=t.n(a),s=t(11),o=t.n(s),r=(t(17),t(2)),l=t(1),u=t(7),d=t(6);t(27);function j(e){var n=e.direction,t=e.disabled,a=void 0!==t&&t,i=e.onClick;return Object(c.jsx)("button",{className:Object(u.a)("Arrow",n),onClick:i,disabled:a,children:Object(c.jsx)("i",{className:Object(u.a)("fas","fa-angle-double-".concat(n))})})}t(28);var f={x:"x","-":"r",G3:"g",A3:"a",B3:"b",C4:"c",D4:"d",E4:"e",F4:"f",G4:"G",A4:"A",B4:"B",C5:"C",D5:"D",E5:"E"},b=function(e){var n=e.onUp,t=e.onDown,a=e.value,i=f[a];return Object(c.jsxs)("div",{className:Object(u.a)("Note",i),"data-name":a,children:[Object(c.jsx)(j,{onClick:function(){if("x"===a)n("-");else if("-"===a)n("G3");else if("E5"===a);else{var e=d.b(a);do{e=e.transpose(1)}while(-1!==e.toNote().indexOf("#"));n(e.toNote())}},direction:"up",disabled:"E5"===a}),Object(c.jsx)(j,{onClick:function(){if("G3"===a)t("-");else if("-"===a)t("x");else if("x"===a);else{var e=d.b(a);do{e=e.transpose(-1)}while(-1!==e.toNote().indexOf("#"));n(e.toNote())}},direction:"down",disabled:"x"===a})]})};t(29);function h(e){var n=e.melody,t=e.onChange,a=n.map((function(e,n){return Object(c.jsx)(b,{onDown:function(e){return t(n,e)},onUp:function(e){return t(n,e)},value:e,order:n},n)}));return Object(c.jsx)("div",{className:"Picker",children:Object(c.jsx)("div",{className:"Picker-inner",children:a})})}t(30),t(31);var O={x:"x","-":"r",G3:"g",A3:"a",B3:"b",C4:"c",D4:"d",E4:"e",F4:"f",G4:"G",A4:"A",B4:"B",C5:"C",D5:"D",E5:"E"},p=Object.keys(O).reduce((function(e,n){return e[O[n]]=n,e}),{});t(32);function x(e){return Object(c.jsx)("button",{onClick:e.onClick,disabled:e.disabled,className:"Button",children:e.children})}var v=function(){var e=Object(a.useState)(["x","-","G3","A3","B3","C4","D4","E4","F4","G4","A4","B4","C5","D5","E5","E5"]),n=Object(l.a)(e,2),t=n[0],i=n[1],s=Object(a.useState)(!1),o=Object(l.a)(s,2),j=o[0],f=o[1],b=function(){var e=Object(a.useState)(),n=Object(l.a)(e,2),t=n[0],c=n[1];return Object(a.useEffect)((function(){d.c.bpm.value=100}),[]),{isPlaying:function(){return!(null==t)},play:function(e){var n=new d.a({envelope:{attack:.09,decay:.0795,release:.2,releaseCurve:"step"}}).toDestination();n.onsilence=function(e){e.disconnect(),e.dispose(),d.c.cancel(),d.c.stop(),c(void 0)},function(e){for(var n=[],t=0,c=0;c<e.length;c++)"x"===e[c]?t+=2:"-"===e[c]?(n.length>0&&(n[n.length-1].value+=2),t+=2):(n.push({pitch:e[c],start:t,value:2}),t+=2);return n}(e).forEach((function(e){n.triggerAttackRelease(e.pitch,"0:0:".concat(.8*e.value),"+0:0:".concat(e.start))})),c(n)},stop:function(){t.disconnect(),t.dispose(),d.c.cancel(),d.c.stop(),c(void 0)}}}();return Object(a.useEffect)((function(){var e=new URLSearchParams(window.location.search);if(e.has("play")){var n=function(e){return 16===e.length?e.split("").map((function(e){return p[e]})):null}(e.get("play"));n&&i(n)}}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{className:"logo",children:"Animal Crossing Tunes Studio"}),Object(c.jsx)("section",{className:"social-media",children:Object(c.jsx)("a",{href:"https://twitter.com/actunesstudio",target:"_blank",rel:"noreferrer",children:Object(c.jsx)("i",{className:"fab fa-twitter"})})}),Object(c.jsx)("section",{className:"picker",children:Object(c.jsx)(h,{onChange:function(e,n){i([].concat(Object(r.a)(t.slice(0,e)),[n],Object(r.a)(t.slice(e+1))))},melody:t})}),Object(c.jsx)("section",{className:"player",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)(x,{onClick:function(){return b.play(t)},disabled:b.isPlaying(),children:[Object(c.jsx)("i",{className:"fas fa-play"}),"\xa0Play"]}),Object(c.jsxs)(x,{onClick:function(){return b.stop()},disabled:!b.isPlaying(),children:[Object(c.jsx)("i",{className:"fas fa-stop"}),"\xa0Stop"]}),Object(c.jsxs)(x,{onClick:function(){var e=t.map((function(e){return O[e]})).join("");navigator.clipboard.writeText("".concat(window.location.protocol,"//").concat(window.location.host,"/?play=").concat(e)).then((function(){return f(!0)}))},disabled:!1,children:[Object(c.jsx)("i",{className:"fas fa-share"}),"\xa0Share"]}),Object(c.jsxs)("div",{className:Object(u.a)({confirmation:!0,visible:j}),children:[Object(c.jsx)("i",{className:"fas fa-check"}),"\xa0 Link copied to clipboard!"]})]})})]})},m=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,34)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,i=n.getLCP,s=n.getTTFB;t(e),c(e),a(e),i(e),s(e)}))};o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root")),m()}},[[33,1,2]]]);
//# sourceMappingURL=main.9199950e.chunk.js.map